<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles/app.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">

    <title>Queer Quote</title>

  </head>

  <body>
    <!-- Hack to preload google font for canvas -->
    <div id='canvas-hack'>.</div>
    <div class='container'>

    <!-- Header -->
    <div class="header row">
      <div class="col-md-offset-2">
        <ul class="nav nav-pills pull-right">
        </ul>
        <h3 class="text-muted"><img src="http://i.imgur.com/YQdIyUS.jpg"> for <img src="http://i.imgur.com/8poNTbe.jpg"></h3>
      </div>
    </div>

    <div id="widget_container" class='jumbotron'>

          <!-- Share Modal -->
          <div id="share_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Edit Your Image</h4>
              </div>
              <div class="modal-body" id="image_display" style="text-align:center;">
                <canvas width="500" height="400" style="border:1px solid black" id="can"></canvas>
                <form id="img_form" class="form-inline" role="form">
                  <div class="form-group">

                    <label for="bgColor">Background</label>
                    <input type="text" class="color" name="bgColor" id="bgColor" value="bada55" size="6" maxlength="6">
                    <label for="fgColor">Text Color</label>
                    <input type="text" class="color" name="fgColor" id="fgColor" value="000" size="6" maxlength="6"><br>
                    <label for="font">Font</label>
                    <select name="font">
                      <option value="Berkshire Swash" style="font-family:'Berkshire Swash'">Berkshire Swash</option>
                      <option value="Nova Square">Nova Square</option>
                      <option value="Oleo Script">Oleo Script</option>
                      <option value="Special Elite">Special Elite</option>
                      <option value="Alegreya">Alegreya</option>
                      <option value="Coming Soon">Coming Soon</option>
                      <option value="Indie Flower">Indie Flower</option>
                    </select>


                  </div>

                </form>
                </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="share_fb">Save image</button>
                </div>
              </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
          </div><!-- /.modal -->

        <!-- Widget -->
          <!-- Soundcloud -->
          <div id='video'>
            <img class='spinner' src='/images/ajax-loader.gif'>
          </div>

          <!-- Quote -->
          <div id='footnote'></div>

        <!-- Buttons -->
        <div id="button_wrapper">

          <button id="share_button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#share_modal">Share quote</button>

        </div>

      <!-- End of jumbotron -->
      </div>
      <!-- Story Thumbnails -->

        <div class='thumbnails' id='widget_container'>
        </div>

      <!-- Footer -->
        <div class='footer'>
          <!--<p>Dream Team 2013</p>-->
        </div>

    <!-- End of container -->
    </div>

    <canvas id="share_canvas" style="display:none;" width="1200" height="650"></canvas>

    <!-- Latest compiled and minified JavaScript -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <script src="http://cdn.popcornjs.org/code/dist/popcorn-complete.js"></script>
    <script src="js/linkController.js"></script>
    <script src='js/quote.js'></script>
    <script src='js/canvas.js'></script>
    <script src='js/transcript.js'></script>
    <script src="js/player.js"></script>
    <script src="js/app.js"></script>
    <script src="js/locationHash.js"></script>
    <script type="text/javascript" src="jscolor/jscolor.js"></script>
    <script type="text/javascript" src="http://www.nihilogic.dk/labs/canvas2image/canvas2image.js"></script>
    <script type="text/javascript" src="http://www.nihilogic.dk/labs/canvas2image/base64.js" ></script>
    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
        // init the FB JS SDK
        FB.init({
          appId      : '631222946921212',        // App ID from the app dashboard
          status     : true,                                 // Check Facebook Login status
          cookie     : true, // enable cookies to allow the server to access the session
          xfbml      : true                                  // Look for social plugins on the page
        });

        // Additional initialization code such as adding Event Listeners goes here

        FB.Event.subscribe('auth.authResponseChange', function(response) {
          // Here we specify what we do with the response anytime this event occurs.
          if (response.status === 'connected') {
            // The response object is returned with a status field that lets the app know the current
            // login status of the person. In this case, we're handling the situation where they
            // have logged in to the app.
            testAPI();
          } else if (response.status === 'not_authorized') {
            // In this case, the person is logged into Facebook, but not into the app, so we call
            // FB.login() to prompt them to do so.
            // In real-life usage, you wouldn't want to immediately prompt someone to login
            // like this, for two reasons:
            // (1) JavaScript created popup windows are blocked by most browsers unless they
            // result from direct interaction from people using the app (such as a mouse click)
            // (2) it is a bad experience to be continually prompted to login upon page load.
            FB.login();
          } else {
            // In this case, the person is not logged into Facebook, so we call the login()
            // function to prompt them to do so. Note that at this stage there is no indication
            // of whether they are logged into the app. If they aren't then they'll see the Login
            // dialog right after they log in to Facebook.
            // The same caveats as above apply to the FB.login() call here.
            FB.login();
          }
        });
      };

    // Load the SDK asynchronously
      (function(d){
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
        }(document));

      function testAPI() {
        console.log('Welcome!  Fetching your information.... ');
        FB.api('/me', function(response) {
          console.log('Good to see you, ' + response.name + '.');
        });
      }
    </script>
    <fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
  </body>

</html>
